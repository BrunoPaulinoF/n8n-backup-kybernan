{
  "updatedAt": "2025-12-11T14:21:17.534Z",
  "createdAt": "2025-12-11T13:39:59.101Z",
  "id": "w9rQVj1walA1SRDh",
  "name": "relatorio campsui",
  "active": true,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "updates": [
          "message"
        ],
        "additionalFields": {
          "download": true
        }
      },
      "type": "n8n-nodes-base.telegramTrigger",
      "typeVersion": 1.2,
      "position": [
        0,
        0
      ],
      "id": "d519a0a9-269a-4de1-8a00-511ae7bc918f",
      "name": "Telegram Trigger",
      "webhookId": "9cfb9bb5-e920-4835-9b3f-9c275643a1bb",
      "credentials": {
        "telegramApi": {
          "id": "ZgkuVjgKskJsBz1a",
          "name": "PASSWORD PDF"
        }
      }
    },
    {
      "parameters": {
        "operation": "pdf",
        "options": {}
      },
      "type": "n8n-nodes-base.extractFromFile",
      "typeVersion": 1.1,
      "position": [
        208,
        0
      ],
      "id": "3da1b90f-2cab-41d8-9c7e-a412eda00b65",
      "name": "Extract from File"
    },
    {
      "parameters": {
        "jsCode": "const inputText = items[0].json.text || \"\";\nconst results = [];\n\n// Lista de dias da semana para tradução\nconst diasDaSemana = [\n  \"domingo\", \"segunda\", \"terça\", \"quarta\", \"quinta\", \"sexta\", \"sábado\"\n];\n\n// 1. DATA DO PERÍODO E CONVERSÃO PARA DIA DA SEMANA\nconst dateRegex = /Período[\\s\\S]*?(\\d{2}\\/\\d{2}\\/\\d{2,4})/;\nconst dateMatch = inputText.match(dateRegex);\nlet diaSemanaOutput = \"Data não encontrada\";\n\nif (dateMatch) {\n  const rawDate = dateMatch[1]; // ex: \"10/12/25\"\n  \n  // Quebra a data nas barras \"/\" para pegar dia, mês e ano separadamente\n  const parts = rawDate.split('/');\n  const day = parseInt(parts[0], 10);\n  const month = parseInt(parts[1], 10) - 1; // No JS, Janeiro é 0, Dezembro é 11\n  let year = parseInt(parts[2], 10);\n\n  // Se o ano vier abreviado (ex: 25), adicionamos 2000\n  if (year < 100) year += 2000;\n\n  // Cria o objeto Data\n  const dataObj = new Date(year, month, day);\n  \n  // Pega o número do dia (0-6) e busca o nome na lista\n  diaSemanaOutput = diasDaSemana[dataObj.getDay()];\n}\n\n// 2. PRODUTOS\nconst productRegex = /\\b(\\d{4,})\\s+(.+?)\\s+(\\d{1,3}(?:\\.\\d{3})*,\\d{2})\\s+[\\n\\r]*\\s*(\\d{1,3}(?:\\.\\d{3})*,\\d{3})/g;\n\nlet match;\nwhile ((match = productRegex.exec(inputText)) !== null) {\n  \n  if (match[2].includes(\"TODOS\") || match[2].includes(\"Total\")) continue;\n\n  const qtdString = match[4];\n  const qtdNumero = parseFloat(qtdString.replace(/\\./g, \"\").replace(\",\", \".\"));\n\n  results.push({\n    dia_semana: diaSemanaOutput, // Aqui entra \"quarta\", \"quinta\", etc.\n    codigo_produto: parseInt(match[1]),\n    nome_produto: match[2].trim(),\n    quantidade: qtdNumero\n  });\n}\n\nreturn results;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        416,
        0
      ],
      "id": "b498593f-20aa-45e9-89af-991c62e3ca8f",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "operation": "upsert",
        "dataTableId": {
          "__rl": true,
          "value": "yISf2Qio2jqkqx8C",
          "mode": "list",
          "cachedResultName": "Campsui-ABC-vendas-por-dia",
          "cachedResultUrl": "/projects/72MghKyBe7pL4bex/datatables/yISf2Qio2jqkqx8C"
        },
        "matchType": "allConditions",
        "filters": {
          "conditions": [
            {
              "keyName": "dia_semana",
              "keyValue": "={{ $json.dia_semana }}"
            },
            {
              "keyName": "codigo",
              "keyValue": "={{ $json.codigo }}"
            }
          ]
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "codigo": "={{ $json.codigo }}",
            "produto": "={{ $json.produto }}",
            "quantidade": "={{ $json.quantidade_somada }}",
            "dia_semana": "={{ $json.dia_semana }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "dia_semana",
              "displayName": "dia_semana",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "codigo",
              "displayName": "codigo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "produto",
              "displayName": "produto",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "quantidade",
              "displayName": "quantidade",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        1328,
        0
      ],
      "id": "3024963d-6829-4f91-b622-fc9bc0cc5aaf",
      "name": "Upsert row(s)"
    },
    {
      "parameters": {
        "operation": "get",
        "dataTableId": {
          "__rl": true,
          "value": "yISf2Qio2jqkqx8C",
          "mode": "list",
          "cachedResultName": "Campsui-ABC-vendas-por-dia",
          "cachedResultUrl": "/projects/72MghKyBe7pL4bex/datatables/yISf2Qio2jqkqx8C"
        },
        "matchType": "allConditions",
        "filters": {
          "conditions": [
            {
              "keyName": "dia_semana",
              "keyValue": "={{ $json.dia_semana }}"
            },
            {
              "keyName": "codigo",
              "keyValue": "={{ $json.codigo_produto }}"
            }
          ]
        },
        "returnAll": true
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        736,
        0
      ],
      "id": "bc97492d-6f14-4fd2-9c40-730d3b28fc84",
      "name": "Get row(s)"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "54152cef-8b15-418a-8b2d-6e10a68b73dd",
              "name": "dia_semana",
              "value": "={{ $json.dia_semana }}",
              "type": "string"
            },
            {
              "id": "dce34d49-8f5e-4a34-8664-c38dc0057e92",
              "name": "codigo",
              "value": "={{ $json.codigo }}",
              "type": "string"
            },
            {
              "id": "98435e66-b5f8-4e2f-a2e1-d7a1d7049086",
              "name": "produto",
              "value": "={{ $json.produto }}",
              "type": "string"
            },
            {
              "id": "9a96fc6c-68dc-49c3-8e75-053375814bce",
              "name": "quantidade_somada",
              "value": "={{ $json.quantidade + $('Code in JavaScript').item.json.quantidade }}",
              "type": "number"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1056,
        0
      ],
      "id": "d17aa309-9bc3-424c-a85a-4d63fef4d2b5",
      "name": "valor somado total"
    },
    {
      "parameters": {
        "operation": "rowNotExists",
        "dataTableId": {
          "__rl": true,
          "value": "yISf2Qio2jqkqx8C",
          "mode": "list",
          "cachedResultName": "Campsui-ABC-vendas-por-dia",
          "cachedResultUrl": "/projects/72MghKyBe7pL4bex/datatables/yISf2Qio2jqkqx8C"
        },
        "matchType": "allConditions",
        "filters": {
          "conditions": [
            {
              "keyName": "dia_semana",
              "keyValue": "={{ $json.dia_semana }}"
            },
            {
              "keyName": "codigo",
              "keyValue": "={{ $json.codigo_produto }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        736,
        240
      ],
      "id": "44d00255-4b6e-4829-a40e-eade17e6e3f9",
      "name": "If row does not exist"
    },
    {
      "parameters": {
        "operation": "upsert",
        "dataTableId": {
          "__rl": true,
          "value": "yISf2Qio2jqkqx8C",
          "mode": "list",
          "cachedResultName": "Campsui-ABC-vendas-por-dia",
          "cachedResultUrl": "/projects/72MghKyBe7pL4bex/datatables/yISf2Qio2jqkqx8C"
        },
        "matchType": "allConditions",
        "filters": {
          "conditions": [
            {
              "keyName": "dia_semana",
              "keyValue": "={{ $json.dia_semana }}"
            },
            {
              "keyName": "codigo",
              "keyValue": "={{ $json.codigo_produto }}"
            }
          ]
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "codigo": "={{ $json.codigo_produto }}",
            "produto": "={{ $json.nome_produto }}",
            "quantidade": "={{ $json.quantidade }}",
            "dia_semana": "={{ $json.dia_semana }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "dia_semana",
              "displayName": "dia_semana",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "codigo",
              "displayName": "codigo",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "produto",
              "displayName": "produto",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "quantidade",
              "displayName": "quantidade",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        1056,
        240
      ],
      "id": "e214ebc9-2f39-4603-a4f1-7b9de27a2b9d",
      "name": "Upsert row(s)1"
    }
  ],
  "connections": {
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "Extract from File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract from File": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "If row does not exist",
            "type": "main",
            "index": 0
          },
          {
            "node": "Get row(s)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s)": {
      "main": [
        [
          {
            "node": "valor somado total",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "valor somado total": {
      "main": [
        [
          {
            "node": "Upsert row(s)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If row does not exist": {
      "main": [
        [
          {
            "node": "Upsert row(s)1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {
    "Telegram Trigger": [
      {
        "json": {
          "update_id": 15074933,
          "message": {
            "message_id": 25,
            "from": {
              "id": 5399986688,
              "is_bot": false,
              "first_name": "Bruno",
              "last_name": "Ferreira",
              "username": "brunopfer",
              "language_code": "pt-br"
            },
            "chat": {
              "id": 5399986688,
              "first_name": "Bruno",
              "last_name": "Ferreira",
              "username": "brunopfer",
              "type": "private"
            },
            "date": 1765462767,
            "document": {
              "file_name": "KMMVET251211103455711.pdf",
              "mime_type": "application/pdf",
              "file_id": "BQACAgEAAxkBAAMZaTrS7xWnX1L8Ur-DBQPysf1Lov0AAuUFAAKm2NBFZvws1Rhji0I2BA",
              "file_unique_id": "AgAD5QUAAqbY0EU",
              "file_size": 11195
            }
          }
        },
        "binary": {
          "data": {
            "mimeType": "application/pdf",
            "fileType": "pdf",
            "fileExtension": "pdf",
            "data": "JVBERi0xLjcNCiWAgYKDDQoxIDAgb2JqDQo8PCAvQ3JlYXRvciA8Pg0KL0NyZWF0aW9uRGF0ZSA8NDQzYTMyMzAzMjM1MzEzMjMxMzEzMTMwMzMzNDM1MzUyZDMwMzIyNzMwMzA+DQovVGl0bGUgPDZkNzk1NTcwMjA1NzY1NjIyMDJkMjA0Mzc1NzI3NjYxMjA0MTQyNDMyMDI4NTA3MjZmNjQ3NTc0NmY3MzI5Pg0KL0F1dGhvciA8Pg0KL1Byb2R1Y2VyIDw1MjY1NzA2ZjcyNzQ0Mjc1Njk2YzY0NjU3Mj4NCi9LZXl3b3JkcyA8Pg0KL1N1YmplY3QgPD4gPj4NCmVuZG9iag0KMiAwIG9iag0KWy9QREYgL1RleHQgL0ltYWdlQiAvSW1hZ2VDIC9JbWFnZUldDQplbmRvYmoNCjMgMCBvYmoNCjw8IC9UeXBlIC9FeHRHU3RhdGUNCi9TQSB0cnVlDQo+Pg0KZW5kb2JqDQo1IDAgb2JqDQo8PCAvTGVuZ3RoIDYwOTYgICAgIA0KL0ZpbHRlciAvRmxhdGVEZWNvZGUNCj4+DQpzdHJlYW0NCnictZ3NbhxHksfvBPgOddgFbKBUzu8P3VoUbXNWImmS9h7We+BYtKGFLHooevyIi32LXexhT/MOG9ns7vh3VypLKlcYGEDDklj/iMr8VWREZcbfjo/UoLrt/x5+OT56cXN89NXJ/e8Pb+8ezu/+6F/cv3vT5e7m5+Mj3T39Nd0ZM3ilncld0nZwvrv59fjoi+fPu9Ory+5Z9/1v1/c/P/5x+3DXPX/+ZXfzH8dHp/Rrvzs++tvMG7roBu1zdnrvjlp/pc1XRhnfafXcuufeL3a7aJNRZKAyg9ncbZnfbeKQdNbe4O++/J9f3r6/7RbyFj0ft7kFeOv017cfPvzv/UI3gTHAZpz8/vD322714qT78YvLh/s3vz/ef/jxy4XvF7Ma8samr9++e3v7rtv+t28a3ufqm/L/o+/+OD76t3+n3/rm+MjYwfhkUhd1GryOypmOfqmPYchG+6jxwrvjo+tF1Ks0GL156k8uWsQ/VsfB5xBV3LvFDw/Dzf3j7btlBpZSg05Oh7R3j+8e39wNi9zAe02PxNIt6AZxiG7jp7uHn4bPe7RmCCZo7+j3WHqE1tAfN882KW+9xgtPz/YTfqdXUeXyDN1ggnM2bH+njz46hxcWGy+GZ/APd+/f3L25f6iO9tkDJ2Z6kmtaxJB29yKf/+P+zf2PX7x87C7v3vz45fh2WtNEzFlr38VEVMtKp9wZcodSWmVHUB5czt7a7uHu+Ohfj4/ez9SId4LZr5R6dnPxcnXdUmbUELJRznYm0dMhQToWZTpnFfSSyuBJbZRdjJTNfx95Q2+kvUek1fr1t8w7z1tFU0/TU5O7haHZ7RRRau8e/72MjxxNmRBj3mfT5d2H++7VP/62DJ9s9ts3K47Di4c3d+9v39x3v9HcXGhW0lgNmzvRBI0Mwrv3j7/TK2+5W+HoAqN+uH1Ht/hxDZ3bhV7ieCu26uqfFno7hR3IfNyGJDdvf7vvXt///bES+ECcFz1FmE6lRGgwpFGZbJbj196NdtJ0b5YOjWBanby7/fDh7iOh0QK3Yju+vv3rw9ufbt8/3tXvhIzcudnQG4N4k8glIq8JlvdRFuNfD36wNHQIf/T+Ls+fXosywuARLfuWoOBkUEl769bBU7ZPN/nnKyLGMviDp+/8DhQv7367fXi8/ZVucz/1+AnSJUwInuJVmmYuuyDjZdC38LvY2h1l4CbXd/+32NLKEoXV5hbWbSl5/ftfn53cPt79cv/wdqmVIjxQvtHuJl+9uv/p9l3zeVo9BJtpPJtYwmUKp6PM82R5Hw36/vQbaTxmBG4iZQg8Sn6zrt8Bb38mOJfR2Z6aFLaXR0lrHkMwpN/lKToWeZas76MuMOu/rULoQsoDrajKZHBrYli9WViEQEuxT5Y1dhjfIttBhSdF9Iq2h2LIHYbgSuu7JzGa1tqd0Wmwnt5is5Y5IzVwD1BzeXp1fvaquzq9/rq7Pn3dXVxfX6z/cHn66nTks+SHQIEL6QCd9Fij8t7bRWRastpZH9O+1/yQvOttPJRk6V2anAuq/HVacmmdQu4C/UOffZgVYFUi5TzYp6REkeQ3rz3rcu+UOlTkHXEq0Qjfe5g2DJa02VkDfvwidqSIHmXye07Sulf7Ywt/cTuLEVIavFFJ+YMsBlzYZRwIAoO1PtBbFmwMesjJ2DzrhTtGmqfJmFNZQaONH/G6o3WToshH7Q1NZwd6Ei4t43StB3qCJtl9QaYfy4GpHyOp8RSEisElaYCLGiWRYeKvtRjjgyBcQM3JxfXN6avVmi4tlrAsOZaArBKI2z6NHIUsiYlYYpKKgiwhSVuWGOv77JssYSfJsQScpFWvw1yWlHyl0dHZQ5bwhSpL2EY5luBsqXsdWcKKxFgCgpJqs4SmWaDxaQRhEjIMAT9KH8BEX4uxJZ8nBxNQc3Px/cnZ+bcX3cnF+Tfd5dnJ6uVFCyosTw4qII+C7mz61AxQQiCo0FwLglAhSTuoJNf7doDCTloYKp78sYEKOCn/ifiE/OiNCckcMoUvVJnCJsoxBUz8iNORKaxIjCkgyNo2U7wtTMkhyjHFR2CKHomB+b4WQ7GbEWQKqLlcnZ+c3qy6szVUWjRhYXI0AWFuUCn1vhmilESndiE5QZqQpB1NlOpzmybsJDmagJNiH9VcmtDk9caGEUx2P6+yhA2UYwkY+BGXI0tYkRhLQFCYiE+cJjWR/izHEud5kig1KhvCPF+LoT9rQZaAmk0m5Zuri+vrVef/pYkT1iaHE9BmB5NC710LJ/TEtCaGGEGckCS/+eJCB0PTt4kTdpIcTsBJodd5Lk5ItTfO+3zIE75QBQqbKAcUMPEjTkegsCIxoIAgM5E8MSWVk2iIygHF0miPW942g5O1mKBUFgQKqOHgZCp/wsLkaIJuotFN794Re5EmtuRiQ0nwy9GEJO1oQlGua+dP2ElyNAEn+d7MpokpGVfvcjykCV+o0oRNlKMJmPgRpyNNWJEYTUBQCG2a6JLMyTQg5GhiNLtHqVb6ZC0mZPKIHE1AzTYXy9mTVQsprE4OKeirIdKrwKYWUnRJydJTW7y8k2kCb5BCkrZIyZPxCftIjijgI9sbN5couuRdAzn+kCh8oUoUNnFpotDD3BAFTKz7HIHCgsSAAnrcBFDUesJEo+WAojIAZZwQgMlexLiYkmRxB9Ts52O3JWOKVW5Wr75tZmZZqBxb0G1D1LnyHJEtqmRmk7NJMFwhSbtwxdhetcMVdpIcXMBJfwYuqiRgo42H37/DhSpc2ES5cAXHQd3pSBdWJEaXvfncpIvPlqYMBdFy1R6fIyx+1Cg/wDN/LYZWYsbL0QXVYOm4s93N2VXlEx5mCsgTYwrKozAhpN60mOJzyc9mGxev9nC8UiRtmUJ6QjNeAR+JIWVvQPXZz0SKzyUNS/oO87NwoYYUMFEsXkET6z4HooAgKaKgnon6sU+aJozxOckRJXngW2jkZ9diaDUWrCBRQM3JxeWKY5XynVuLJyxOjifoqsF5S2OpxZNkBm1UeWRyPEmcoM2qT80QBXwkxxPwEa0N5oYoPpU0bDZEkAOe8IUqT9hEOZ6AiXWfI09YkBhP0OXt9Y8PmSaM9Vau3uMjpmdNaGRUntSoqAQLPihnL0Q5uZj8ZBb0yTEF9BFTKOJNraKPj4qYoo23gkyJnKYNbmLZAz6SYwoOqT6kuUwJafB2vSH1gCl8ocoUNlGOKWBi3efIFBYkxhTQE32bKT6SGueiXMnHB0iqmVYN+UmMDoKfuKGYk9XZJS10Ot81q8esSo4jAXOz1qY+5RZHytAzZdOSIEcC52aDn1rr7FwkhxFwkekPvpT8DIz4QLQo3xofYoQvVDGys1COImBh3eNIkZ0eMYiAHDcBEVcmi3faykHEYSLHNurGT2IMzStBioCaVxevX1xMfdAGouQggi4ajLN9bn0e610giFgtGYs4zsH63Nt2LMIukoMIuMj0dvb6xjlihSnj8gAifKEKETZRjiJgYt3nSBEWJIYR0BMmMGJLBjYUR4phxEJSUeUWRtZiSIvgzkBUs/mebZ0xKaub9c7AT1nmsE45sqDXaKDpPocWWawjsjgVFi/vAFosp2JjmNjMAz6SQ4vFVKyZnYq1hghilTqs7sCFKlrYRDm0gIl1nyNaWJAYWtDl7S/bykk1wUfBnTxEUcicNDOxay3OecnajjnIxO7tOG7hhMXJ4cRgJlYr1bsmTkzJxHqlJCs7xmPWZGK1wz6SwwkOp17FuTihAUqa8mhrIFyo4oRNlMMJmFj3OeKEBYnhBPRY18aJKjmcZIxgZUdDalG5VqSyFuNtlqzsgJrXZ9+cX5xPrnhYlRxI0EdEBlrxjBLWCJJySJzx5XQTOZCQJL85c8TFqfQr+0gOJOijPs/9SNarkmV1KY1KOnyhChI2UQ4kYGLd5wgSFiQGEtAT2yUdl0saJ+sgWNJRNDXSbjugaXzT9qQmWMn9gCjnLxenr7696G5OX9PqZ/VyMosC+hZmCg1Ys2EK6Mu6FlUCUVwuidiQkmQShQTtiJJIT4so4CE5ouCA6uPcTCwNcQKHH20w5p/XeAIGyvEEDKx7HHgCgsR4AnpCbPOkTJagtPJiPHEpA0/GrAWcrGduNIIZFBSz/4Xs69X5zepTEiisUowpqDJl1z62wKWSl6X5vPjOQGZKEbRlStC9aUYp7CAxpOyNqT7MDVJcKunXEP1hcQcuVKGys1CMKWhh3ePIlJ0eKaTsObydlXXRElJ0OW9ZDCkx7tSYZnFnLcavz12VYwqoeSruTGwIBFFyCAFRqVQHW9sB190VyDOCCZOiZxeV6N62oxJ2kBxCwEGEkLnnnrhY0qwx5MPSDlyoIoRNlGMImFj3OTKEBYlBBPRMlHYcOYUgkgX3AjqawQyR2FrmFDG06HKSgQmoOVldXf0XZ2Cn4hFWJ0cTUEcTujettIkLJf+aQxYs5xRBkDZpH6MEHpLDCXhI927uV2vkQKJGCqOdgHChihM2UQ4nYGLd54gTFiSGE9Bj21/WO5cJJ+VEdzGaeAs00Y3vYJ+0KJUEyzmoZntOwXffr15erV5OHvcI+uR4Avqiz+16jvNq0FYFu/hhj8ATz2lYkycOUgIPyfEEPEQ8mR2euJJtzT4e1nPgQpUnbKIcT3DKVH2OPGFBy/JEeXqsTzxBl6sJoNhIcmzycgUd5zAP29r89yRGKyP4HSyq2TurYHrzH8iTAwrIi8b1oQkUS2PQah8F6zpF0BYoVk8cVQAekgMKDqfezj071pFAUu5HW//gQhUobKIcUMDEus8RKCxILEABPRNb/5wpeVgXs9wxj+VhQB62ccj9kxidg2BZB9XUjo7taOFz8v2L1qcnIFOOKyAzZN/+js2ZMJR+cpJbAIsgyKNMBCrsITmu4LDqrZ7LFeMIH9qN1j27n1epwgbKUQUMrHscqcKCxKgCeuxEFkWXVCzFeILVHY2p2NSiylqMyZL7/1DN5epVWfZ8dusM0CmHFdBJ1O/HHxYjVrQjrFjnJQs8GtKzqk9trLCH5LCiMT1rZheNtSF8GJtGFR6+UAULmygHFjCx7nMECwsSAwtO5QmwqJKeDUFwFyCFkrj8aYFlLcYmK1njATV7y58XL1ooYWVyKAFlwbl+fKgdokQZQomzgme0FT27TMrUMUrgIDmS4EDqzewARSkChi39zQ5IwheqJGET5UgCJk6eogSCxDIp6HLTXvmUI7gIJEHL5WZt5sSOja0NxU9iXIyClR5U8+rs/Jvvz/5z1XU3F9cnq/P1wdRdgyggUIwoKDDY3A5OSqtCbT39czmkFEEQnLSLPeAhMaSgh/4EUmxp3eVo1Xi46IELNaSAiWJIQRPrPgekgCCp4ORAT5MopSlQSF5u0WNLT6C8XYLpFlDWWnzUgqc+oprL05uz65OLbnXZfX12PnXOPaiTowmoC0a3z6W2pa+XpekhWOopgnyAMLdJE/aQHE3AQ7rXc7fu2NK8ixaJo52AcKFKEzZRjiZgYt3nSBMWJEYTHJTtBjy2tAMqJ9rKbQW0pR3QdgC0D1F6UhPK0JTjCcjZW+t8wsexoE+OKKAvlDpd61hqW5p62WgkNwMWQTuihImvY8FDckTBAdXrucXj4kbvgnaHtR64UCUKmyhHFDCx7nMkCgsSIwromaj12NIUKCpn5Go9tjQF2hEltwKUIiZEL7kZENXgsQWnr7sXZ183ccLq5HAC6sqpsc0Sjy1dvejt4QRLPEWQx+61TZywh+RwgqNp/t5iW5p3uagOU7H88ypM2EA5mICBdY8jTFiQGExAz9RipzQEihQzy20ItKUhEMNkND1gohcxtPKygiUeVHMAk4l6MaiTgwmo895MwKT09LJZJcHCThG0gwnFAm2YsIfkYIKjqVdzj1SypXOXS0ofHu8IF6o4YRPlcAIm1n2OOGFBYjgBPVM4KR2BorFKrrBjS0egHU60bXx4v1ZDa68gWNlBOZenUzuKQZEcQ0CRV+7w2LEDhpROXk4pI9jJqwjaMkQbPVEdBhfJQQRcpOafY29Lwy5a2fvDmg5cqEKETRRrjbE3TepOR4qwIqmiDgp6NrGt2JY+QNEaJ1jUMZA1U65FkbUY5ZTgAY+opnzAdv7tahIlLEsOJSCLHkL7cIJyUAqhJHvJUo6B5KueOIYNPCRHEvAQkWR2qqQ06nI5jbYBwoUqSdhEuXAETKz7HEHCgsTCEdATJzhSOv5Ep5PcCY9WYfJ13OIB5vhajLZOspYDal6cXd+cnqy6cs7J6urq9GaSKCxQjiggkNYv/ThZjUQpfbvo6UnuBCyCdsHJVI8d8JAcUcBD6nDf9WcQpXTn8irZUTmHL1SJwibKEQXnzFSPHRAkRhTQM3H0tCkdfyL9W7lyjsmYfA2NyORJjDGSWwFRzY4oJTjZtttpAAX0iQEF9RkKK33rIHtTmnY5euSC1ZwiaAcUP/EBG3hIDCjoofIlxkygmNKby+sYD6s5cKEGFDBRDCh7U6bqcwAKCJICCuqZyJiY0vInBiW4E7DMSMyYNGKUJzXWGMFyDsq5PN3u15mITUCYHEpAmPGxH+/CRpSUfl3O0hwTREni5KuZik3AQ3IoAQ+p+acUmNKWy5uoDw93hAtVlLCJcijBQTAVm4AgqbQJ6nlmao1uYaKXVj+RsCFXzDGRszhkd6My/CSGxrFgMQfVbLvrrC4nvloDYXIoAWGlM8b4PF1ESWnT5VyUbI1RBO2iEjVRFAYPyaEkYgrWzd1PbEo3Lk/OPKzjwIUqSthEOZRErFRMlIVBkFhUAnomErCmtPuJMVu5Oo4JkFZSqRWUrMV4SY6AFtz39zmNMXYq5aCCHtOu963Cjinj0PngBXt2FUF+e9aznegnuvOPHFIC5mLd7IVO6czlaR4ffmgCF6pI2RooBxQwsO5vBMpWjhhOcDi222GY0vcnphTlznQ0Lg96S5Pxseww19dagrKC5RwQs/nGZH8b8afghGXKAYVl6lTLeyFPSvsuFySLO0XODie6D22csH/kgML+Ub2dm4k1pUkX/WcOaztwocoTtlCOKDACqh5HoLAeMaTAJJ7Iw5Z2PzEnLVfZMTYyUSofCMN0X4sJWXLbH6i5Wk2fEQuS5PDBkmj6tr8zMaVHl4vkGUF+lB5dW36YqcwrO0iOH+wg4sfcMwhM6cTlgwuHlRy4UOUHWyjHDxgCVY8jP1iPGD9AzkTatfT3SSrKbfIzxrMWNTqBHWZ2kUJrLS1ZxWExe1ty/OTpa6BODiTgKuMmSjilO5dLLixdwin78PUGJKU717anZe/aHGH/yHGE/aN6M/cbE1NacPno1OFZjnChyhG2cGGO0AP0G46whVWHI0ZYjhhGWM3EXhxTuvskGjOC1Rttt2Jsbh0+sNZCiywvWbthMdsTB7YbhZuFYJYmBxGWVr53jM3FjC4Z1+zU0ic4IkRKZ64dRCYSruwfOYiwf/4MREr7LZ+sG5Vu+EIVImyhHETYwqk9wiBHrHAD49G30yO69PQhEUawbqM0LGYa35SstcQcs+DhjSBm05JrYjUDouT4waK0Du2KjS59uLyybumKDfJDcXJ1qrEf+EeOH+wfNf9ANV26bflsDnOr/PMaPcA+OXqwfVM9/UCOWAjCaibOptdlmiTyk9xSRifOErXhsdaiomAEAlo27Jj4coQ1iaFjzz+21631iy7ttrw2i2/aA3QUPVt0TJ0nwO4RIwe4Rx065zPIUXpqBRp+I3TwhSo7dgaKoQMMnDpKgNVIkQPETJGjtOxJtNqSq8roCAkZ3SLHWosOklv1QMy2qcXZ2SQ+WNjC/KA5qDb8iJAnbFZhdOm05Y1kr74iZguPFGtdnz5v2pY+VkFrf1j9gAvVact+F8tegt/rluLEZT0LrxjUYDczl+U8qzeQsNYMiSQU9/k8OEuTPXZJDzZrY/wcQf2L+3dvxuOBhly2SUfyeTD0SzdAGZRyvf/8b4hpAipCio6aHn/Um0x2LGrLQZL8891QKHcNzpTZwZba8quVmTcD65bCfcBQN6plzPrlpvxGf+DEm/vH27cfno+Yo93gUi5PkQ3W9MMC5iUtNjEPmcKQMqhBVulekl1vRsELUWGgkZCCfVJmiOy0DvOlSVc51moxYc4VakRi/ycMuv8HFUHGWQ0KZW5kc3RyZWFtDQplbmRvYmoNCjE0IDAgb2JqDQo8PCAvVHlwZSAvUGFnZQ0KL1BhcmVudCA0IDAgUg0KL01lZGlhQm94IFswIDAgNTk1IDg0MS44OTAyMl0NCi9SZXNvdXJjZXMgPDwNCi9YT2JqZWN0IDw8DQo+Pg0KL0ZvbnQgPDwNCi9Db3VyaWVyTmV3LEJvbGQgNiAwIFINCi9Db3VyaWVyTmV3IDEwIDAgUg0KPj4NCi9Qcm9jU2V0IDIgMCBSDQovRXh0R1N0YXRlIDw8IC9HUzEgMyAwIFIgPj4NCj4+DQovQW5ub3RzIFsNCl0NCi9Db250ZW50cyA1IDAgUg0KPj4NCmVuZG9iag0KNCAwIG9iag0KPDwgL1R5cGUgL1BhZ2VzDQovS2lkc1sNCjE0IDAgUg0KXQ0KL0NvdW50IDENCj4+DQplbmRvYmoNCjE1IDAgb2JqDQo8PCAvVHlwZSAvQ2F0YWxvZw0KL1BhZ2VzIDQgMCBSDQo+Pg0KZW5kb2JqDQo2IDAgb2JqDQo8PCAvVHlwZSAvRm9udA0KL1N1YnR5cGUgL1RydWVUeXBlDQovTmFtZSAvQ291cmllck5ldyxCb2xkDQovQmFzZUZvbnQgL0NvdXJpZXJOZXcsQm9sZA0KL0ZpcnN0Q2hhciAzMA0KL0xhc3RDaGFyIDI1NQ0KL0ZvbnREZXNjcmlwdG9yIDggMCBSDQovV2lkdGhzIDkgMCBSDQovRW5jb2RpbmcgNyAwIFINCj4+DQplbmRvYmoNCjggMCBvYmoNCjw8IC9UeXBlIC9Gb250RGVzY3JpcHRvcg0KL0ZvbnROYW1lIC9Db3VyaWVyTmV3LEJvbGQNCi9Bc2NlbnQgODMzLjANCi9DYXBIZWlnaHQgODMzLjANCi9EZXNjZW50IC0zMDAuMA0KL0ZsYWdzIDM1DQovRm9udEJCb3ggWyAtMjUwLjAgLTMwMC4wIDg5NC4wIDgzMy4wIF0NCi9JdGFsaWNBbmdsZSAwDQovU3RlbVYgMA0KPj4NCmVuZG9iag0KOSAwIG9iag0KWw0KNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgDQpdDQplbmRvYmoNCjcgMCBvYmoNCjw8IC9UeXBlIC9FbmNvZGluZw0KL0Jhc2VFbmNvZGluZyAvV2luQW5zaUVuY29kaW5nDQo+Pg0KZW5kb2JqDQoxMCAwIG9iag0KPDwgL1R5cGUgL0ZvbnQNCi9TdWJ0eXBlIC9UcnVlVHlwZQ0KL05hbWUgL0NvdXJpZXJOZXcNCi9CYXNlRm9udCAvQ291cmllck5ldw0KL0ZpcnN0Q2hhciAzMA0KL0xhc3RDaGFyIDI1NQ0KL0ZvbnREZXNjcmlwdG9yIDEyIDAgUg0KL1dpZHRocyAxMyAwIFINCi9FbmNvZGluZyAxMSAwIFINCj4+DQplbmRvYmoNCjEyIDAgb2JqDQo8PCAvVHlwZSAvRm9udERlc2NyaXB0b3INCi9Gb250TmFtZSAvQ291cmllck5ldw0KL0FzY2VudCA4MzMuMA0KL0NhcEhlaWdodCA4MzMuMA0KL0Rlc2NlbnQgLTMwMC4wDQovRmxhZ3MgMzUNCi9Gb250QkJveCBbIC0yNTAuMCAtMzAwLjAgNzQ0LjAgODMzLjAgXQ0KL0l0YWxpY0FuZ2xlIDANCi9TdGVtViAwDQo+Pg0KZW5kb2JqDQoxMyAwIG9iag0KWw0KNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgNjAwLjAgDQpdDQplbmRvYmoNCjExIDAgb2JqDQo8PCAvVHlwZSAvRW5jb2RpbmcNCi9CYXNlRW5jb2RpbmcgL1dpbkFuc2lFbmNvZGluZw0KPj4NCmVuZG9iag0KeHJlZg0KMCAxNg0KMDAwMDAwMDAwMCA2NTUzNSBmDQowMDAwMDAwMDE3IDAwMDAwIG4NCjAwMDAwMDAyNjcgMDAwMDAgbg0KMDAwMDAwMDMyMiAwMDAwMCBuDQowMDAwMDA2ODEwIDAwMDAwIG4NCjAwMDAwMDAzNzQgMDAwMDAgbg0KMDAwMDAwNjkzMiAwMDAwMCBuDQowMDAwMDA4NzEwIDAwMDAwIG4NCjAwMDAwMDcxMjYgMDAwMDAgbg0KMDAwMDAwNzMyOSAwMDAwMCBuDQowMDAwMDA4NzgzIDAwMDAwIG4NCjAwMDAwMTA1NTIgMDAwMDAgbg0KMDAwMDAwODk3MSAwMDAwMCBuDQowMDAwMDA5MTcwIDAwMDAwIG4NCjAwMDAwMDY1NTYgMDAwMDAgbg0KMDAwMDAwNjg3NyAwMDAwMCBuDQp0cmFpbGVyDQo8PCAvU2l6ZSAxNg0KL0luZm8gMSAwIFINCi9Sb290IDE1IDAgUg0KL0lEWyAgPDQxNDE0NTMzMzQzMDQxMzEyZDMwMzgzODM3MmQzNDQ2MzA0MjJkMzg0MjM4MzUyZDQ0MzUzNTMwNDUzMTM5MzM0NjMyNDYzNj4gPDQxNDE0NTMzMzQzMDQxMzEyZDMwMzgzODM3MmQzNDQ2MzA0MjJkMzg0MjM4MzUyZDQ0MzUzNTMwNDUzMTM5MzM0NjMyNDYzNj4gXQ0KPj4NCnN0YXJ0eHJlZg0KMTA2MjYNCiUlRU9GDQo=",
            "fileName": "file_2.pdf",
            "fileSize": "11.2 kB"
          }
        }
      }
    ]
  },
  "versionId": "fccf0a42-f10a-4db5-b007-1c9dcc6fec29",
  "activeVersionId": "fccf0a42-f10a-4db5-b007-1c9dcc6fec29",
  "triggerCount": 1,
  "shared": [
    {
      "updatedAt": "2025-12-11T13:39:59.101Z",
      "createdAt": "2025-12-11T13:39:59.101Z",
      "role": "workflow:owner",
      "workflowId": "w9rQVj1walA1SRDh",
      "projectId": "72MghKyBe7pL4bex"
    }
  ],
  "activeVersion": {
    "updatedAt": "2025-12-11T14:21:17.523Z",
    "createdAt": "2025-12-11T14:21:17.523Z",
    "versionId": "fccf0a42-f10a-4db5-b007-1c9dcc6fec29",
    "workflowId": "w9rQVj1walA1SRDh",
    "nodes": [
      {
        "parameters": {
          "updates": [
            "message"
          ],
          "additionalFields": {
            "download": true
          }
        },
        "type": "n8n-nodes-base.telegramTrigger",
        "typeVersion": 1.2,
        "position": [
          0,
          0
        ],
        "id": "d519a0a9-269a-4de1-8a00-511ae7bc918f",
        "name": "Telegram Trigger",
        "webhookId": "9cfb9bb5-e920-4835-9b3f-9c275643a1bb",
        "credentials": {
          "telegramApi": {
            "id": "ZgkuVjgKskJsBz1a",
            "name": "PASSWORD PDF"
          }
        }
      },
      {
        "parameters": {
          "operation": "pdf",
          "options": {}
        },
        "type": "n8n-nodes-base.extractFromFile",
        "typeVersion": 1.1,
        "position": [
          208,
          0
        ],
        "id": "3da1b90f-2cab-41d8-9c7e-a412eda00b65",
        "name": "Extract from File"
      },
      {
        "parameters": {
          "jsCode": "const inputText = items[0].json.text || \"\";\nconst results = [];\n\n// Lista de dias da semana para tradução\nconst diasDaSemana = [\n  \"domingo\", \"segunda\", \"terça\", \"quarta\", \"quinta\", \"sexta\", \"sábado\"\n];\n\n// 1. DATA DO PERÍODO E CONVERSÃO PARA DIA DA SEMANA\nconst dateRegex = /Período[\\s\\S]*?(\\d{2}\\/\\d{2}\\/\\d{2,4})/;\nconst dateMatch = inputText.match(dateRegex);\nlet diaSemanaOutput = \"Data não encontrada\";\n\nif (dateMatch) {\n  const rawDate = dateMatch[1]; // ex: \"10/12/25\"\n  \n  // Quebra a data nas barras \"/\" para pegar dia, mês e ano separadamente\n  const parts = rawDate.split('/');\n  const day = parseInt(parts[0], 10);\n  const month = parseInt(parts[1], 10) - 1; // No JS, Janeiro é 0, Dezembro é 11\n  let year = parseInt(parts[2], 10);\n\n  // Se o ano vier abreviado (ex: 25), adicionamos 2000\n  if (year < 100) year += 2000;\n\n  // Cria o objeto Data\n  const dataObj = new Date(year, month, day);\n  \n  // Pega o número do dia (0-6) e busca o nome na lista\n  diaSemanaOutput = diasDaSemana[dataObj.getDay()];\n}\n\n// 2. PRODUTOS\nconst productRegex = /\\b(\\d{4,})\\s+(.+?)\\s+(\\d{1,3}(?:\\.\\d{3})*,\\d{2})\\s+[\\n\\r]*\\s*(\\d{1,3}(?:\\.\\d{3})*,\\d{3})/g;\n\nlet match;\nwhile ((match = productRegex.exec(inputText)) !== null) {\n  \n  if (match[2].includes(\"TODOS\") || match[2].includes(\"Total\")) continue;\n\n  const qtdString = match[4];\n  const qtdNumero = parseFloat(qtdString.replace(/\\./g, \"\").replace(\",\", \".\"));\n\n  results.push({\n    dia_semana: diaSemanaOutput, // Aqui entra \"quarta\", \"quinta\", etc.\n    codigo_produto: parseInt(match[1]),\n    nome_produto: match[2].trim(),\n    quantidade: qtdNumero\n  });\n}\n\nreturn results;"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          416,
          0
        ],
        "id": "b498593f-20aa-45e9-89af-991c62e3ca8f",
        "name": "Code in JavaScript"
      },
      {
        "parameters": {
          "operation": "upsert",
          "dataTableId": {
            "__rl": true,
            "value": "yISf2Qio2jqkqx8C",
            "mode": "list",
            "cachedResultName": "Campsui-ABC-vendas-por-dia",
            "cachedResultUrl": "/projects/72MghKyBe7pL4bex/datatables/yISf2Qio2jqkqx8C"
          },
          "matchType": "allConditions",
          "filters": {
            "conditions": [
              {
                "keyName": "dia_semana",
                "keyValue": "={{ $json.dia_semana }}"
              },
              {
                "keyName": "codigo",
                "keyValue": "={{ $json.codigo }}"
              }
            ]
          },
          "columns": {
            "mappingMode": "defineBelow",
            "value": {
              "codigo": "={{ $json.codigo }}",
              "produto": "={{ $json.produto }}",
              "quantidade": "={{ $json.quantidade_somada }}",
              "dia_semana": "={{ $json.dia_semana }}"
            },
            "matchingColumns": [],
            "schema": [
              {
                "id": "dia_semana",
                "displayName": "dia_semana",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "readOnly": false,
                "removed": false
              },
              {
                "id": "codigo",
                "displayName": "codigo",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "readOnly": false,
                "removed": false
              },
              {
                "id": "produto",
                "displayName": "produto",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "readOnly": false,
                "removed": false
              },
              {
                "id": "quantidade",
                "displayName": "quantidade",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "number",
                "readOnly": false,
                "removed": false
              }
            ],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {}
        },
        "type": "n8n-nodes-base.dataTable",
        "typeVersion": 1,
        "position": [
          1328,
          0
        ],
        "id": "3024963d-6829-4f91-b622-fc9bc0cc5aaf",
        "name": "Upsert row(s)"
      },
      {
        "parameters": {
          "operation": "get",
          "dataTableId": {
            "__rl": true,
            "value": "yISf2Qio2jqkqx8C",
            "mode": "list",
            "cachedResultName": "Campsui-ABC-vendas-por-dia",
            "cachedResultUrl": "/projects/72MghKyBe7pL4bex/datatables/yISf2Qio2jqkqx8C"
          },
          "matchType": "allConditions",
          "filters": {
            "conditions": [
              {
                "keyName": "dia_semana",
                "keyValue": "={{ $json.dia_semana }}"
              },
              {
                "keyName": "codigo",
                "keyValue": "={{ $json.codigo_produto }}"
              }
            ]
          },
          "returnAll": true
        },
        "type": "n8n-nodes-base.dataTable",
        "typeVersion": 1,
        "position": [
          736,
          0
        ],
        "id": "bc97492d-6f14-4fd2-9c40-730d3b28fc84",
        "name": "Get row(s)"
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "54152cef-8b15-418a-8b2d-6e10a68b73dd",
                "name": "dia_semana",
                "value": "={{ $json.dia_semana }}",
                "type": "string"
              },
              {
                "id": "dce34d49-8f5e-4a34-8664-c38dc0057e92",
                "name": "codigo",
                "value": "={{ $json.codigo }}",
                "type": "string"
              },
              {
                "id": "98435e66-b5f8-4e2f-a2e1-d7a1d7049086",
                "name": "produto",
                "value": "={{ $json.produto }}",
                "type": "string"
              },
              {
                "id": "9a96fc6c-68dc-49c3-8e75-053375814bce",
                "name": "quantidade_somada",
                "value": "={{ $json.quantidade + $('Code in JavaScript').item.json.quantidade }}",
                "type": "number"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          1056,
          0
        ],
        "id": "d17aa309-9bc3-424c-a85a-4d63fef4d2b5",
        "name": "valor somado total"
      },
      {
        "parameters": {
          "operation": "rowNotExists",
          "dataTableId": {
            "__rl": true,
            "value": "yISf2Qio2jqkqx8C",
            "mode": "list",
            "cachedResultName": "Campsui-ABC-vendas-por-dia",
            "cachedResultUrl": "/projects/72MghKyBe7pL4bex/datatables/yISf2Qio2jqkqx8C"
          },
          "matchType": "allConditions",
          "filters": {
            "conditions": [
              {
                "keyName": "dia_semana",
                "keyValue": "={{ $json.dia_semana }}"
              },
              {
                "keyName": "codigo",
                "keyValue": "={{ $json.codigo_produto }}"
              }
            ]
          }
        },
        "type": "n8n-nodes-base.dataTable",
        "typeVersion": 1,
        "position": [
          736,
          240
        ],
        "id": "44d00255-4b6e-4829-a40e-eade17e6e3f9",
        "name": "If row does not exist"
      },
      {
        "parameters": {
          "operation": "upsert",
          "dataTableId": {
            "__rl": true,
            "value": "yISf2Qio2jqkqx8C",
            "mode": "list",
            "cachedResultName": "Campsui-ABC-vendas-por-dia",
            "cachedResultUrl": "/projects/72MghKyBe7pL4bex/datatables/yISf2Qio2jqkqx8C"
          },
          "matchType": "allConditions",
          "filters": {
            "conditions": [
              {
                "keyName": "dia_semana",
                "keyValue": "={{ $json.dia_semana }}"
              },
              {
                "keyName": "codigo",
                "keyValue": "={{ $json.codigo_produto }}"
              }
            ]
          },
          "columns": {
            "mappingMode": "defineBelow",
            "value": {
              "codigo": "={{ $json.codigo_produto }}",
              "produto": "={{ $json.nome_produto }}",
              "quantidade": "={{ $json.quantidade }}",
              "dia_semana": "={{ $json.dia_semana }}"
            },
            "matchingColumns": [],
            "schema": [
              {
                "id": "dia_semana",
                "displayName": "dia_semana",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "readOnly": false,
                "removed": false
              },
              {
                "id": "codigo",
                "displayName": "codigo",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "readOnly": false,
                "removed": false
              },
              {
                "id": "produto",
                "displayName": "produto",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "readOnly": false,
                "removed": false
              },
              {
                "id": "quantidade",
                "displayName": "quantidade",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "number",
                "readOnly": false,
                "removed": false
              }
            ],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {}
        },
        "type": "n8n-nodes-base.dataTable",
        "typeVersion": 1,
        "position": [
          1056,
          240
        ],
        "id": "e214ebc9-2f39-4603-a4f1-7b9de27a2b9d",
        "name": "Upsert row(s)1"
      }
    ],
    "connections": {
      "Telegram Trigger": {
        "main": [
          [
            {
              "node": "Extract from File",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Extract from File": {
        "main": [
          [
            {
              "node": "Code in JavaScript",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Code in JavaScript": {
        "main": [
          [
            {
              "node": "If row does not exist",
              "type": "main",
              "index": 0
            },
            {
              "node": "Get row(s)",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get row(s)": {
        "main": [
          [
            {
              "node": "valor somado total",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "valor somado total": {
        "main": [
          [
            {
              "node": "Upsert row(s)",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "If row does not exist": {
        "main": [
          [
            {
              "node": "Upsert row(s)1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    },
    "authors": "Kybernan Tech",
    "name": null,
    "description": null
  },
  "tags": []
}